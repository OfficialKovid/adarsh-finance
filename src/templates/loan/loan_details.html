{% extends 'base/base-website.html' %}
{% load static %}

{% block title %}{{ loan.title }} - Loan Details{% endblock %}

{% block head %}
<style>
    .loan-details-hero {
        background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)),
                    url("{% if loan.image %}{{ loan.image.url }}{% else %}{% static 'images/hero-img-l.jpg' %}{% endif %}");
        background-size: cover;
        background-position: center;
        padding: 150px 0 80px;
        color: white;
        text-align: center;
    }

    .loan-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 60px 20px;
    }

    .loan-section {
        background: white;
        border-radius: 10px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
    }

    .loan-section:hover {
        transform: translateY(-5px);
    }

    .section-title {
        color: #007bff;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .key-points {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 30px 0;
    }

    .key-point-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #007bff;
    }

    .benefit-list, .criteria-list, .document-list {
        list-style: none;
        padding: 0;
    }

    .benefit-list li, .criteria-list li, .document-list li {
        padding: 15px;
        margin-bottom: 10px;
        background: #f8f9fa;
        border-radius: 5px;
        display: flex;
        align-items: flex-start;
        gap: 10px;
    }

    .benefit-list i, .criteria-list i, .document-list i {
        color: #28a745;
        margin-top: 4px;
    }

    .sector-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin: 20px 0;
    }

    .sector-tag {
        background: #e9ecef;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.9rem;
    }

    .apply-btn {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: #007bff;
        color: white;
        padding: 15px 30px;
        border-radius: 5px;
        text-decoration: none;
        margin-top: 30px;
        transition: all 0.3s ease;
    }

    .apply-btn:hover {
        background: #0056b3;
        transform: translateY(-2px);
    }

    .contact-info {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-top: 20px;
    }

    @media (max-width: 768px) {
        .key-points {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<section class="loan-details-hero">
    <div data-aos="fade-up">
        <h1>{{ loan.title }}</h1>
        <p>{{ loan.full_name|default:loan.title }}</p>
    </div>
</section>

<div class="loan-content">
    <div class="loan-section" data-aos="fade-up">
        <h2 class="section-title">
            <i class="fas fa-star"></i>
            Key Highlights
        </h2>
        <div class="key-points">
            {% for point in key_points %}
            <div class="key-point-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter }}00">
                <i class="fas fa-check-circle"></i>
                <p>{{ point.point }}</p>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="loan-section" data-aos="fade-up">
        <h2 class="section-title">
            <i class="fas fa-info-circle"></i>
            About This Scheme
        </h2>
        <p>{{ loan.description }}</p>
        
        {% if sectors %}
        <div class="sector-tags">
            <strong>Applicable Sectors:</strong>
            {% for sector in sectors %}
            <span class="sector-tag">{{ sector.sector_name }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </div>

    <div class="loan-section" data-aos="fade-up">
        <h2 class="section-title">
            <i class="fas fa-gift"></i>
            Benefits
        </h2>
        <ul class="benefit-list">
            {% for benefit in benefits %}
            <li data-aos="fade-right" data-aos-delay="{{ forloop.counter }}00">
                <i class="fas fa-check"></i>
                {{ benefit.description }}
            </li>
            {% endfor %}
        </ul>
    </div>

    <div class="loan-section" data-aos="fade-up">
        <h2 class="section-title">
            <i class="fas fa-clipboard-check"></i>
            Eligibility Criteria
        </h2>
        <ul class="criteria-list">
            {% for criterion in criteria %}
            <li data-aos="fade-right" data-aos-delay="{{ forloop.counter }}00">
                <i class="fas fa-check"></i>
                {{ criterion.criteria }}
            </li>
            {% endfor %}
        </ul>
    </div>

    <div class="loan-section" data-aos="fade-up">
        <h2 class="section-title">
            <i class="fas fa-file-alt"></i>
            Required Documents
        </h2>
        <ul class="document-list">
            {% for doc in documents %}
            <li data-aos="fade-right" data-aos-delay="{{ forloop.counter }}00">
                <i class="fas fa-file"></i>
                {{ doc.document_name }}
            </li>
            {% endfor %}
        </ul>
    </div>

    {% if loan.contact_info %}
    <div class="loan-section" data-aos="fade-up">
        <h2 class="section-title">
            <i class="fas fa-phone-alt"></i>
            Contact Information
        </h2>
        <div class="contact-info">
            {{ loan.contact_info }}
        </div>
    </div>
    {% endif %}

    <div class="text-center" data-aos="fade-up">
        <a href="#" class="apply-btn">
            Apply Now
            <i class="fas fa-arrow-right"></i>
        </a>
    </div>
</div>
{% endblock %}
